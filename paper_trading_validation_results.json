{
  "timestamp": 1755402874.183243,
  "task": "9.1 Paper Trading Mode",
  "summary": {
    "total_tests": 7,
    "passed_tests": 1,
    "failed_tests": 6,
    "success_rate": 14.285714285714285
  },
  "test_results": [
    {
      "test_name": "Paper Trading Initialization",
      "passed": true,
      "error_message": null,
      "execution_time": 0.13460016250610352,
      "details": {
        "default_config_working": true,
        "custom_config_working": true,
        "initialization_correct": true,
        "portfolio_initialized": true
      }
    },
    {
      "test_name": "Paper Trading Lifecycle",
      "passed": false,
      "error_message": "Cannot operate on a closed database.",
      "execution_time": 5.070047378540039,
      "details": {
        "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\lucas\\Hive Trade\\scripts\\validate_paper_trading.py\", line 136, in test_paper_trading_lifecycle\n    await agent.stop_paper_trading()\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\paper_trading_agent.py\", line 573, in stop_paper_trading\n    self.trade_logger.log_audit_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type=ActionType.SYSTEM_SHUTDOWN,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        log_level=LogLevel.INFO\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 1287, in log_audit_event\n    return self.trade_logger.log_audit_event(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type, entity_type, entity_id, description, details,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        log_level, user_id, agent_id, correlation_id, parent_event_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 882, in log_audit_event\n    self._store_audit_event(audit_event)\n    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 899, in _store_audit_event\n    cursor = self.conn.cursor()\nsqlite3.ProgrammingError: Cannot operate on a closed database.\n"
      }
    },
    {
      "test_name": "Order Submission and Execution",
      "passed": false,
      "error_message": "name 'OrderStatus' is not defined",
      "execution_time": 3.0658624172210693,
      "details": {
        "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\lucas\\Hive Trade\\scripts\\validate_paper_trading.py\", line 207, in test_order_submission_and_execution\n    if market_order_executed.status != OrderStatus.FILLED:\n                                       ^^^^^^^^^^^\nNameError: name 'OrderStatus' is not defined\n"
      }
    },
    {
      "test_name": "Portfolio Management",
      "passed": false,
      "error_message": "Cannot operate on a closed database.",
      "execution_time": 9.268725395202637,
      "details": {
        "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\lucas\\Hive Trade\\scripts\\validate_paper_trading.py\", line 301, in test_portfolio_management\n    await agent.stop_paper_trading()\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\paper_trading_agent.py\", line 573, in stop_paper_trading\n    self.trade_logger.log_audit_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type=ActionType.SYSTEM_SHUTDOWN,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        log_level=LogLevel.INFO\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 1287, in log_audit_event\n    return self.trade_logger.log_audit_event(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type, entity_type, entity_id, description, details,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        log_level, user_id, agent_id, correlation_id, parent_event_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 882, in log_audit_event\n    self._store_audit_event(audit_event)\n    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 899, in _store_audit_event\n    cursor = self.conn.cursor()\nsqlite3.ProgrammingError: Cannot operate on a closed database.\n"
      }
    },
    {
      "test_name": "Performance Tracking",
      "passed": false,
      "error_message": "Cannot operate on a closed database.",
      "execution_time": 11.06733751296997,
      "details": {
        "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\lucas\\Hive Trade\\scripts\\validate_paper_trading.py\", line 367, in test_performance_tracking\n    await agent.stop_paper_trading()\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\paper_trading_agent.py\", line 573, in stop_paper_trading\n    self.trade_logger.log_audit_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type=ActionType.SYSTEM_SHUTDOWN,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        log_level=LogLevel.INFO\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 1287, in log_audit_event\n    return self.trade_logger.log_audit_event(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type, entity_type, entity_id, description, details,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        log_level, user_id, agent_id, correlation_id, parent_event_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 882, in log_audit_event\n    self._store_audit_event(audit_event)\n    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 899, in _store_audit_event\n    cursor = self.conn.cursor()\nsqlite3.ProgrammingError: Cannot operate on a closed database.\n"
      }
    },
    {
      "test_name": "Mode Switching",
      "passed": false,
      "error_message": "Cannot operate on a closed database.",
      "execution_time": 5.063671112060547,
      "details": {
        "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\lucas\\Hive Trade\\scripts\\validate_paper_trading.py\", line 403, in test_mode_switching\n    await agent.switch_to_live_trading()\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\paper_trading_agent.py\", line 1035, in switch_to_live_trading\n    await self.stop_paper_trading()\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\paper_trading_agent.py\", line 573, in stop_paper_trading\n    self.trade_logger.log_audit_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type=ActionType.SYSTEM_SHUTDOWN,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        log_level=LogLevel.INFO\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 1287, in log_audit_event\n    return self.trade_logger.log_audit_event(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type, entity_type, entity_id, description, details,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        log_level, user_id, agent_id, correlation_id, parent_event_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 882, in log_audit_event\n    self._store_audit_event(audit_event)\n    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 899, in _store_audit_event\n    cursor = self.conn.cursor()\nsqlite3.ProgrammingError: Cannot operate on a closed database.\n"
      }
    },
    {
      "test_name": "Integration Test",
      "passed": false,
      "error_message": "Cannot operate on a closed database.",
      "execution_time": 7.070705890655518,
      "details": {
        "traceback": "Traceback (most recent call last):\n  File \"C:\\Users\\lucas\\Hive Trade\\scripts\\validate_paper_trading.py\", line 493, in test_integration\n    await agent.stop_paper_trading()\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\paper_trading_agent.py\", line 573, in stop_paper_trading\n    self.trade_logger.log_audit_event(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type=ActionType.SYSTEM_SHUTDOWN,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        log_level=LogLevel.INFO\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 1287, in log_audit_event\n    return self.trade_logger.log_audit_event(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        action_type, entity_type, entity_id, description, details,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        log_level, user_id, agent_id, correlation_id, parent_event_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 882, in log_audit_event\n    self._store_audit_event(audit_event)\n    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"C:\\Users\\lucas\\Hive Trade\\agents\\trade_logging_audit_agent.py\", line 899, in _store_audit_event\n    cursor = self.conn.cursor()\nsqlite3.ProgrammingError: Cannot operate on a closed database.\n"
      }
    }
  ]
}